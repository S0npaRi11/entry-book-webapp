(this["webpackJsonpentry-book-webapp"]=this["webpackJsonpentry-book-webapp"]||[]).push([[0],{47:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),a=(n(43),n(1)),c=n.n(a),s=n(23),o=n.n(s),u=(n(47),n(2)),i=n.n(u),l=n(4),j=n(6),b=n(11),p=n(9),d=n(15),h="https://entry-book.herokuapp.com",f=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=f,m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/"+t,{headers:{"auth-token":n}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=m,v=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/"+t,{method:"PATCH",headers:{"Content-Type":"application/json","auth-token":n},body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=v,y=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=y,N=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/books",{headers:{"auth-token":t}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=N,S=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/messages",{headers:{"auth-token":t}});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=S,C=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/message/"+n,{method:"DELETE",headers:{"auth-token":t}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=C,T=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/message/"+n,{method:"POST",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),F=T,I=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(j.a)(s,2),u=o[0],h=o[1],f=Object(a.useState)(""),m=Object(j.a)(f,2),x=m[0],v=m[1],k=Object(a.useState)(""),y=Object(j.a)(k,2),g=y[0],N=y[1],w=Object(a.useState)(""),S=Object(j.a)(w,2),D=S[0],C=S[1],E=Object(p.f)(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n||u||x||g||D){e.next=4;break}return alert(" Please fill in the required fields. "),e.abrupt("return");case 4:return r={firstName:n,lastName:u,mobileNumber:x,email:g,password:D},e.next=7,O(r);case 7:e.sent.json().then((function(e){E.push("/")})),c(""),h(""),v(""),N(""),C("");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"register-form-wrapper",children:Object(r.jsxs)("form",{onSubmit:T,className:"form-register",children:[Object(r.jsx)("h1",{className:"page-title mb-3 font-weight-normal",children:" Register "}),Object(r.jsxs)(d.a,{children:[Object(r.jsxs)("div",{className:"col-sm-6",children:[Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"firstName",children:" First Name "}),Object(r.jsx)("input",{type:"text",id:"firstName",className:"form-control",required:!0,autoFocus:!0,value:n,onChange:function(e){return c(e.target.value)},placeholder:"Enter your first Name"})]}),Object(r.jsxs)("div",{className:"col-sm-6",children:[Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"lastName",children:" Last Name "}),Object(r.jsx)("input",{type:"text",id:"lasttName",className:"form-control",required:!0,autoFocus:!0,value:u,onChange:function(e){return h(e.target.value)},placeholder:"Enter your last name"})]}),Object(r.jsxs)("div",{className:"col-sm-12",children:[Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"mobileNumber",children:" Mobile Number "}),Object(r.jsx)("input",{type:"text",id:"mobileNumber",className:"form-control",required:!0,autoFocus:!0,value:x,onChange:function(e){return v(e.target.value)},placeholder:"Enter your mobile number"})]}),Object(r.jsxs)("div",{className:"col-sm-12",children:[Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"email",children:" Email "}),Object(r.jsx)("input",{type:"email",id:"email",className:"form-control",required:!0,autoFocus:!0,value:g,onChange:function(e){return N(e.target.value)},placeholder:"Enter your email address"})]}),Object(r.jsxs)("div",{className:"col-sm-12",children:[Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"password",children:" Password "}),Object(r.jsx)("input",{type:"password",id:"password",className:"form-control",required:!0,autoFocus:!0,value:D,onChange:function(e){return C(e.target.value)},placeholder:"Enter your password"})]})]}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"register"}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:[" Already refistered? ",Object(r.jsx)(b.b,{to:"/",children:" Login here. "})," "]})]})})},P=n(30),A=n(13),q=n(22),B=n(25),U=n(37),L=n(38),_=function(e){var t=e.user;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(B.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(r.jsxs)(A.a,{children:[Object(r.jsxs)(B.a.Brand,{href:"#home",children:[" ",t," "]}),Object(r.jsx)(B.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(r.jsxs)(B.a.Collapse,{id:"responsive-navbar-nav",children:[Object(r.jsx)(U.a,{className:"mr-auto"}),Object(r.jsxs)(U.a,{children:[Object(r.jsxs)(b.b,{className:"nav-link",to:"/profile",children:[" ",Object(r.jsx)(L.b,{}),"\xa0Profile "]}),Object(r.jsxs)(b.b,{className:"nav-link",to:"/messages",children:[" ",Object(r.jsx)(L.a,{}),"\xa0Messages "]})]})]})]})})})},J=function(e){var t=e.token,n=e.addBook,c=e.user,s=Object(a.useState)(""),o=Object(j.a)(s,2),u=o[0],b=o[1],p=function(){var e=Object(l.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),u){e.next=4;break}return alert("Please give the book a title"),e.abrupt("return");case 4:n(t,{creatorID:c,title:u,users:c}),b("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("form",{className:"addBook-form",onSubmit:p,children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",id:"bookTitle",required:!0,autoFocus:!0,className:"form-control",placeholder:"Enter Book Title",value:u,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Add Book"})]})},R=n(10),M=function(e){var t=e.book,n=e.onDelete,a=e.token,c=new Date(t.creationDate);return Object(r.jsx)("div",{className:"col-sm-4 book-wrapper",children:Object(r.jsx)(R.a,{className:"book-card",children:Object(r.jsxs)(R.a.Body,{children:[Object(r.jsx)(R.a.Title,{className:"book-title",children:t.title}),Object(r.jsxs)(R.a.Subtitle,{className:"book-creator",children:["  Created At : ",c.toDateString()," "]}),Object(r.jsx)(R.a.Text,{className:"book-info",children:Object(r.jsxs)(d.a,{children:[Object(r.jsxs)("div",{className:"col-lg-4",children:[Object(r.jsx)("p",{children:" Received "}),t.totalReceived]}),Object(r.jsxs)("div",{className:"col-lg-4",children:[Object(r.jsx)("p",{children:"  Dept "}),t.totalDept]}),Object(r.jsxs)("div",{className:"col-lg-4",children:[Object(r.jsx)("p",{children:"  Paid "}),t.totalPaid]})]})}),Object(r.jsx)(R.a.Link,{className:"btn btn-primary",onClick:function(){return n(a,t._id)},children:" Delete "}),Object(r.jsx)(b.b,{to:"/book/".concat(t._id),className:"btn btn-success card-link",children:" More info "})]})})})},G=function(e){var t=e.books,n=e.onDelete,a=e.token;return Object(r.jsx)(r.Fragment,{children:0===t.length?"No Books Found":Object(r.jsx)(d.a,{className:"book-list",children:t.map((function(e){return Object(r.jsx)(M,{book:e,onDelete:n,token:a},e._id)}))})})},H="https://entry-book.herokuapp.com",V=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H+"/book/"+n,{headers:{"auth-token":t}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=V,K=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H+"/book",{method:"POST",headers:{"Content-Type":"application/json","auth-token":t},body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=K,W=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H+"/book/"+n,{method:"DELETE",headers:{"auth-token":t}});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=W;var Y=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},Z=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(j.a)(s,2),u=o[0],b=o[1],d=Object(p.f)(),h=Y("token"),f=Y("entry-app-user-id"),O=Y("entry-app-user-name");void 0===h&&d.push("/"),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(h);case 3:null!==(t=e.sent).result?b(t.result):d.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[u,h,d]);var m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t,n);case 2:r=e.sent,b([].concat(Object(P.a)(u),[r.result]));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t,n);case 2:b(u.filter((function(e){return e._id!==n})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_,{user:O}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)("h1",{className:"page-title font-weight-normal mb-3",children:" Books "}),Object(r.jsx)(q.a,{className:"btn btn-primary",onClick:function(){return c(!n)},children:"Add new Book"}),n&&Object(r.jsx)(J,{token:h,addBook:m,user:f}),Object(r.jsx)(G,{books:u,onDelete:x,token:h})]})]})},$=function(e){var t=e.onUpdate,n=e.bookID,c=e.entry,s=e.token,o=Object(a.useState)(0),u=Object(j.a)(o,2),i=u[0],l=u[1];return Object(r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),i<=0)alert("Please enter value.");else{var r=c;r.amount=i;var a=t(n,c._id,s,r);console.log(a),l(0)}},className:"form-update-entry",children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"number",className:"form-control",id:"updateEntryVal",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Enter Updated value"}),Object(r.jsx)("input",{type:"submit",value:"Update Entry",className:"btn btn-primary"})]})},ee=function(e){var t=e.entry,n=e.token,c=e.bookID,s=e.onDelete,o=e.onUpdate,u=Object(a.useState)(!1),i=Object(j.a)(u,2),l=i[0],b=i[1];return Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)(R.a,{className:"entry-card",children:Object(r.jsxs)(R.a.Body,{children:[Object(r.jsx)(R.a.Title,{className:"entry-title",children:t.entryTitle}),Object(r.jsxs)(R.a.Subtitle,{className:"entry-creator",children:[" ",t.entryCreatorID," "]}),Object(r.jsxs)(R.a.Text,{className:"entry-info",children:[Object(r.jsxs)("p",{children:[" Amount : ",t.amount," "]}),Object(r.jsxs)("p",{children:[" Type : ",t.type," "]}),Object(r.jsxs)("p",{children:[" Recipient : ",t.recipient," "]}),Object(r.jsxs)("p",{children:[" Details : ",t.details," "]})]}),"dept"===t.type&&Object(r.jsx)(R.a.Link,{className:"btn btn-primary",onClick:function(e){e.preventDefault(),b(!l)},children:" Update "}),Object(r.jsx)(R.a.Link,{onClick:function(){return s(c,t._id,n)},children:" Delete "}),l&&Object(r.jsx)($,{onUpdate:o,bookID:c,entry:t,token:n})]})})})},te=function(e){var t=e.entries,n=e.token,a=e.bookID,c=e.onDelete,s=e.onUpdate;return Object(r.jsx)(d.a,{className:"entry-list",children:0===t.length?"No entries found":t.map((function(e){return Object(r.jsx)(ee,{token:n,bookID:a,entry:e,onDelete:c,onUpdate:s},e._id)}))})},ne=function(e){var t=e.onAdd,n=e.bookID,c=e.token,s=e.userID,o=Object(a.useState)(""),u=Object(j.a)(o,2),i=u[0],l=u[1],b=Object(a.useState)("paid"),p=Object(j.a)(b,2),h=p[0],f=p[1],O=Object(a.useState)(""),m=Object(j.a)(O,2),x=m[0],v=m[1],k=Object(a.useState)(0),y=Object(j.a)(k,2),g=y[0],N=y[1];return Object(r.jsxs)("form",{className:"form-register",onSubmit:function(e){(e.preventDefault(),i||h||x||0!==g)?(t(n,c,{entryTitle:i,amount:g,type:h,recipient:x,entryCreatorID:s,bookID:n}),l(""),f("paid"),v(""),N(0)):alert("Fill all the necessary fields.")},children:[Object(r.jsxs)(d.a,{children:[Object(r.jsxs)("div",{className:"col-sm-6",children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",id:"entryTitle",className:"form-control",value:i,onChange:function(e){return l(e.target.value)},placeholder:"Enter Title",required:!0})]}),Object(r.jsxs)("div",{className:"col-sm-6",children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",id:"entryType",className:"form-control",value:h,onChange:function(e){return f(e.target.value)},placeholder:"Enter type",required:!0})]}),Object(r.jsxs)("div",{className:"col-sm-6",children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",id:"recipient",className:"form-control",value:x,onChange:function(e){return v(e.target.value)},placeholder:"Enter recipient",required:!0})]}),Object(r.jsxs)("div",{className:"col-sm-6",children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"number",id:"amount",className:"form-control",value:g,onChange:function(e){return N(e.target.value)},placeholder:"Enter amount",required:!0})]})]}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"Add Entry"})]})},re="https://entry-book.herokuapp.com",ae=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/entry/"+t,{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","auth-token":n},body:JSON.stringify(r)});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ce=ae,se=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/entry/"+t+"/"+n,{method:"PATCH",headers:{"Content-Type":"application/json","auth-token":r},body:JSON.stringify(a)});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),oe=se,ue=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(re+"/entry/"+t+"/"+n,{method:"DELETE",headers:{"auth-token":r}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ie=ue,le=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(j.a)(s,2),u=o[0],b=o[1],d=Object(a.useState)(""),h=Object(j.a)(d,2),f=h[0],O=h[1],m=Object(p.f)(),x=Object(p.g)().bookID,v=Y("token"),k=Y("entry-app-user-id"),y=Y("entry-app-user-name");void 0===v&&m.push("/"),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(v,x);case 3:null!==(t=e.sent).result?(O(t.result.title),b(t.result.entries)):m.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[u,v,x,m]);var g=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t,n,r);case 2:a=e.sent,b([].concat(Object(P.a)(u),[a.result.entries]));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,n,r);case 2:b(u.filter=function(e){return e._id!==n});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t,n,r,a);case 2:c=e.sent,console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_,{user:y}),Object(r.jsxs)(A.a,{children:[Object(r.jsxs)("h1",{className:"page-title font-weight-normal pb-3",children:[" ",f," "]}),Object(r.jsx)("h3",{className:"page-title font-weight-normal pb-3",children:" Entries "}),Object(r.jsx)("button",{className:"btn btn-primary",onClick:function(){return c(!n)},children:"Add New Entry"}),n&&Object(r.jsx)(ne,{onAdd:g,bookID:x,token:v,userID:k}),Object(r.jsx)(te,{entries:u,token:v,bookID:x,onDelete:N,onUpdate:w})]})]})},je=function(e){var t=e.onUpdate,n=e.userID,c=e.token,s=Object(a.useState)(""),o=Object(j.a)(s,2),u=o[0],i=o[1];return Object(r.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),u)?(t(n,c,{password:u}),console.log(u),i("")):alert("Please enter password.")},children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",className:"form-control",value:u,onChange:function(e){return i(e.target.value)},placeholder:"Enter New Password"}),Object(r.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Update Password"})]})},be=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(j.a)(s,2),u=o[0],b=o[1],d=Object(a.useState)(""),h=Object(j.a)(d,2),f=h[0],O=h[1],m=Y("token"),v=Y("entry-app-user-id"),y=Y("entry-app-user-name"),g=Object(p.f)();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(v,m);case 3:null!==(t=e.sent).result?(b(t.result.email),O(t.result.mobileNumber)):g.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[v,m,g]);var N=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_,{user:y}),Object(r.jsxs)(A.a,{children:[Object(r.jsxs)("h1",{children:[" ",y," "]}),Object(r.jsxs)("h3",{children:[" ",u," "]}),Object(r.jsxs)("h3",{children:[" ",f," "]}),Object(r.jsx)(q.a,{varient:"primary",onClick:function(){return c(!n)},children:"Update Password"}),n&&Object(r.jsx)(je,{onUpdate:N,userID:v,token:m})]})]})},pe=function(e){var t=e.message,n=e.token,a=e.onDelete;return Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsx)(R.a,{children:Object(r.jsxs)(R.a.Body,{children:[Object(r.jsx)(R.a.Title,{className:"message-text",children:t.meg}),Object(r.jsx)(R.a.Subtitle,{className:"message-sender",children:t.senderFirstName+" "+t.senderLastName}),Object(r.jsx)(R.a.Link,{onClick:function(){return a(n,t._id)},children:" Delete "})]})})})},de=function(e){var t=e.messages,n=e.token,a=e.onDelete;return Object(r.jsx)(d.a,{children:0===t.length?"No messages found":t.map((function(e){return Object(r.jsx)(pe,{message:e,token:n,onDelete:a},e._id)}))})},he=function(e){var t=e.onAdd,n=e.token,c=Object(a.useState)(""),s=Object(j.a)(c,2),o=s[0],u=s[1],i=Object(a.useState)(""),l=Object(j.a)(i,2),b=l[0],p=l[1];return Object(r.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),o&&b)?(t(n,o,{msg:b}),console.log("id ",o),console.log("message ",b),u(""),p("")):alert("Please fill in the required fields")},children:[Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"recipient-id",value:o,onChange:function(e){return u(e.target.value)},placeholder:" Please enter the id."}),Object(r.jsx)("input",{type:"text",className:"form-control",id:"recipient-id",value:b,onChange:function(e){return p(e.target.value)},placeholder:" Please enter the message."}),Object(r.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Send Message"})]})},fe=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(j.a)(s,2),u=o[0],b=o[1],d=Y("token"),h=Y("entry-app-user-name"),f=Object(p.f)();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(d);case 3:null!==(t=e.sent).result?b(t.result):f.push("/500"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f.push("/500");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[d,f]);var O=function(){var e=Object(l.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_,{user:h}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)("h1",{children:" Messages "}),Object(r.jsx)(de,{messages:u,onDelete:m,token:d}),Object(r.jsx)(q.a,{varient:"primary",onClick:function(){return c(!n)},children:" Send Message "}),n&&Object(r.jsx)(he,{onAdd:O,token:d})]})]})},Oe=function(){return Object(r.jsxs)(A.a,{children:[Object(r.jsx)("h1",{children:" Error : 404 "}),Object(r.jsx)("p",{children:" Requested page not found "}),Object(r.jsx)(b.b,{to:"/user",children:" Go back "})]})},me=function(){return Object(r.jsxs)(A.a,{children:[Object(r.jsx)("h1",{children:" Error : 500 "}),Object(r.jsx)("p",{children:" Error while connecting to the server "}),Object(r.jsx)(b.b,{to:"/user",children:" Go back "})]})};n(57);var xe=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),o=Object(j.a)(s,2),u=o[0],d=o[1],h=Object(a.useState)(!1),f=Object(j.a)(h,2),O=f[0],m=f[1],x=Object(a.useState)(!1),v=Object(j.a)(x,2),k=v[0],y=v[1],N=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n||u){e.next=4;break}return alert(" Invalid Request "),e.abrupt("return");case 4:return r={email:n,password:u},e.next=7,g(r);case 7:null!==(a=e.sent)?(document.cookie="token=".concat(a.result[0],";max-age=86400,domain=localhost:3000"),document.cookie="entry-app-user-id=".concat(a.result[1]._id,";max-age=86400,domain=localhost:3000"),document.cookie="entry-app-user-name=".concat(a.result[1].firstName+" "+a.result[1].lastName,";max-age=86400,domain=localhost:3000"),document.cookie="entry-app-user-email=".concat(a.result[1].email,";max-age=86400,domain=localhost:3000"),m(!0)):y(!0),c(""),d("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(b.a,{children:[Object(r.jsx)(p.b,{exact:!0,path:"/",render:function(e){return Object(r.jsxs)(r.Fragment,{children:[k&&Object(r.jsx)(p.a,{push:!0,to:"/error500",component:me}),O?Object(r.jsx)(p.a,{push:!0,to:"/user",component:Z}):Object(r.jsx)("div",{className:"signin-form-wrapper",children:Object(r.jsxs)("form",{onSubmit:N,className:"form-signin pt-3 pb-3",children:[Object(r.jsx)("h1",{className:"page-title mb-3 font-weight-normal",children:" Sign In "}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"email",children:" Email "}),Object(r.jsx)("input",{type:"email",id:"email",required:!0,className:"form-control",placeholder:"Enter Email",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"password",children:" Password "}),Object(r.jsx)("input",{type:"password",id:"password",required:!0,className:"form-control",placeholder:"enter password",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"submit",className:"btn btn-primary btn-block",value:"Log In"}),Object(r.jsx)("br",{}),Object(r.jsxs)("p",{className:"align-right",children:[" Not registered? ",Object(r.jsx)(b.b,{to:"/register",children:" Register here "})," "]})]})})]})}}),Object(r.jsx)(p.b,{exact:!0,path:"/register",children:Object(r.jsx)(I,{})}),Object(r.jsx)(p.b,{exact:!0,path:"/user",children:Object(r.jsx)(Z,{})}),Object(r.jsx)(p.b,{exact:!0,path:"/book/:bookID",children:Object(r.jsx)(le,{})}),Object(r.jsx)(p.b,{exact:!0,path:"/profile",children:Object(r.jsx)(be,{})}),Object(r.jsx)(p.b,{exact:!0,path:"/messages",children:Object(r.jsx)(fe,{})}),Object(r.jsx)(p.b,{exact:!0,path:"/404",children:Object(r.jsx)(Oe,{})}),Object(r.jsx)(p.b,{exact:!0,path:"/500",children:Object(r.jsx)(me,{})})]})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(xe,{})}),document.getElementById("root")),ve()}},[[58,1,2]]]);
//# sourceMappingURL=main.924e45c0.chunk.js.map